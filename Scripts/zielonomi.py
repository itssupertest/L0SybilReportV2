import matplotlib.pyplot as plt
import networkx as nx

# Define the input data, excluding CEX nodes
# This connection needs to be added manualy since its indirect (funding through 1inch) "0x48d7":[("0xaf8f", 1)]
data = {
    "0x0062": [("0x1941", 1),("0x3720", 1),("0x48d7", 3),("0x70c4", 1),("0x45ab", 1)],
    "0x00bf": [("0x48d7", 4),("0xada1", 1)],
    "0x04be": [("0x48d7", 3),("0xf345", 3),("0xe41d", 11),("0x3f5a", 10),("0x45ab", 1),("0x5917", 1),("0x70c4", 1)],
    "0x0663": [("0x59d6", 4),("0x48d7", 9),("0x5d10", 1)],
    "0x0699": [("0xafd1", 1),("0xe41d", 1),("0x5917", 8),("0xe59b", 7),("0xf345", 1),("0x48d7", 2)],
    "0x1134": [("0x7842", 7),("0x6223", 4),("0xf345", 1)],
    "0x13b5": [("0x7487", 1),("0x48d7", 4)],
    "0x1941": [("0x6b76", 1),("0x0062", 1),("0x48d7", 2),("0x5d10", 2)],
    "0x3578": [("0x5d10", 3),("0x70c4", 14),("0x48d7", 12),("0xf345", 10),("0x3720", 1),("0x45ab", 2),("0x5917", 1),("0xbc55", 1),("0x95cb", 1)],
    "0x3720": [("0x0062", 1),("0xf8ee", 1),("0x48d7", 3),("0x3578", 1),("0x45ab", 1)],
    "0x3f5a": [("0x48d7", 1),("0xf345", 3),("0xe41d", 1),("0x04be", 10),("0xcd07", 10),("0xfe2e", 1),("0x45ab", 1),("0xbc55", 1),("0x5917", 1)],
    "0x45ab": [("0x70c4", 8),("0x5d10", 16),("0x48d7", 50),("0x95cb", 17),("0xbc55", 1),("0x51d4", 1),("0x0062", 1),("0x3720", 1),("0x59d6", 1),("0x3578", 2),("0xf345", 1),("0xafd1", 1),("0xe59b", 1),("0x4b98", 1),("0x3f5a", 1),("0x04be", 1),("0x9074", 1),("0xfd39", 1),("0x5917", 1)],
    "0x48d7": [("0xf788", 1),("0x45ab", 21),("0x5917", 31),("0x5d10", 39),("0x95cb", 30),("0xbc55", 24),("0x04be", 2),("0x3f5a", 1),("0xf345", 7),("0x70c4", 22),("0xcd07", 5),("0xe41d", 5),("0xa890", 2),("0xacd4", 5),("0x3578", 12),("0x7842", 1),("0x59d6", 4),("0x6223", 3),("0x0663", 9),("0xf8ee", 3),("0x3720", 3),("0x0062", 3),("0x1941", 2),("0x6b76", 2),("0x00bf", 4),("0x7487", 3),("0xada1", 4),("0x13b5", 4),("0x51d4", 3),("0x8da6", 4),("0xfcf7", 3),("0x8b55", 1),("0xfd39", 1),("0x0699", 2),("0xfe2e", 1),("0xa7ce", 1),("0xe093", 2),("0xe59b", 1), ("0xaf8f", 1)],
    "0x4b98": [("0xa7ce", 1),("0xafd1", 8),("0x9074", 7),("0xf345", 1),("0x45ab", 1),("0xe59b", 1)],
    "0x51d4": [("0x48d7", 3),("0x45ab", 1)],
    "0x5917": [("0x70c4", 3),("0x48d7", 31),("0xbc55", 11),("0xafd1", 1),("0xe41d", 2),("0x0699", 8),("0xf345", 2),("0x3578", 1),("0x95cb", 1),("0x04be", 1),("0xcd07", 1),("0x45ab", 1),("0x3f5a", 1)],
    "0x59d6": [("0xf8ee", 3),("0x0663", 4),("0x48d7", 4),("0x45ab", 1)],
    "0x5d10": [("0x45ab", 16),("0x70c4", 30),("0x48d7", 69),("0x3578", 3),("0xf788", 1),("0xafd1", 1),("0x95cb", 11),("0x1941", 2),("0x0663", 1),("0x7487", 1),("0xcd07", 1),("0xa7ce", 1),("0xa890", 1),("0xf345", 1),("0xbc55", 1)],
    "0x6223": [("0x7842", 1),("0x1134", 4),("0x48d7", 3),("0xf345", 1)],
    "0x6b76": [("0xfcf7", 1),("0x1941", 1),("0x48d7", 2),("0xfe2e", 1),("0x70c4", 1)],
    "0x70c4": [("0x45ab", 8),("0x5917", 3),("0x5d10", 30),("0x48d7", 30),("0x3578", 14),("0xbc55", 6),("0x0062", 1),("0x6b76", 1),("0xfe2e", 1),("0xa7ce", 1),("0xf345", 1),("0x95cb", 3),("0xe41d", 3),("0x04be", 1)],
    "0x7487": [("0x48d7", 3),("0x13b5", 1),("0x5d10", 1)],
    "0x7842": [("0x6223", 1),("0x1134", 7),("0x48d7", 1),("0xfe2e", 1),("0xfd39", 1),("0xa890", 8),("0xe093", 1),("0xf345", 1)],
    "0x8b55": [("0x8da6", 2),("0xfcf7", 2),("0x48d7", 1),("0x95cb", 1)],
    "0x8da6": [("0xacd4", 2),("0x8b55", 2),("0x48d7", 4)],
    "0x9074": [("0xf788", 8),("0xa7ce", 1),("0xafd1", 1),("0x4b98", 7),("0xf345", 1),("0x45ab", 1),("0xe59b", 1)],
    "0x95cb": [("0x45ab", 17),("0x48d7", 63),("0x5d10", 11),("0x8b55", 1),("0xe41d", 2),("0xfe2e", 1),("0x5917", 1),("0x70c4", 3),("0x3578", 1)],
    "0x9afe": [("0xa7ce", 10),("0xafd1", 1),("0xf788", 7),("0xf345", 2),("0xe59b", 1)],
    "0xa7ce": [("0xa890", 1),("0xe093", 1),("0xfd39", 1),("0xfe2e", 8),("0x4b98", 1),("0xf788", 1),("0x9074", 1),("0x9afe", 10),("0xf345", 1),("0x70c4", 1),("0x48d7", 1),("0x5d10", 1),("0xe59b", 1)],
    "0xa890": [("0x48d7", 2),("0x7842", 8),("0xa7ce", 1),("0xe093", 7),("0xf345", 1),("0x5d10", 1)],
    "0xacd4": [("0x48d7", 5),("0x8da6", 2)],
    "0xada1": [("0x00bf", 1),("0x48d7", 4)],
    "0xaf8f": [],
    "0xafd1": [("0x5d10", 1),("0x9afe", 1),("0xf788", 1),("0x9074", 1),("0x4b98", 8),("0xbc55", 1),("0x5917", 1),("0x0699", 1),("0xe59b", 9),("0xf345", 1),("0x45ab", 1)],
    "0xbc55": [("0x48d7", 27),("0x5917", 11),("0x70c4", 6),("0xafd1", 1),("0xe41d", 9),("0x45ab", 1),("0x3f5a", 1),("0x3578", 1),("0x5d10", 1)],
    "0xcd07": [("0x48d7", 6),("0xf345", 13),("0xe41d", 1),("0x3f5a", 10),("0x5d10", 1),("0xf788", 1),("0x5917", 1)],
    "0xe093": [("0x7842", 1),("0xa7ce", 1),("0xfd39", 7),("0xa890", 7),("0xf345", 1),("0x48d7", 2)],
    "0xe41d": [("0x48d7", 5),("0xe59b", 1),("0x5917", 2),("0x0699", 1),("0xbc55", 9),("0xf345", 2),("0xcd07", 1),("0x04be", 11),("0x3f5a", 1),("0x95cb", 2),("0x70c4", 3)],
    "0xe59b": [("0xafd1", 9),("0xe41d", 1),("0x0699", 7),("0xf345", 1),("0x45ab", 1),("0xfd39", 1),("0xfe2e", 1),("0xa7ce", 1),("0x9afe", 1),("0xf788", 1),("0x9074", 1),("0x4b98", 1),("0x48d7", 1)],
    "0xf345": [("0x48d7", 7),("0x04be", 3),("0x3f5a", 3),("0xcd07", 13),("0xe41d", 2),("0x3578", 10),("0xf8ee", 1),("0x6223", 1),("0x7842", 1),("0x1134", 1),("0xa890", 1),("0xfe2e", 1),("0xfd39", 1),("0xe093", 1),("0xa7ce", 1),("0xf788", 1),("0x9074", 1),("0x9afe", 2),("0xafd1", 1),("0x4b98", 1),("0xe59b", 1),("0x5917", 2),("0x0699", 1),("0x45ab", 1),("0x5d10", 1),("0x70c4", 1)],
    "0xf788": [("0x48d7", 1),("0x9074", 8),("0x5d10", 1),("0xa7ce", 1),("0xafd1", 1),("0x9afe", 7),("0xf345", 1),("0xcd07", 1),("0xe59b", 1)],
    "0xf8ee": [("0x3720", 1),("0x59d6", 3),("0x48d7", 3),("0xf345", 1)],
    "0xfcf7": [("0x8b55", 2),("0x6b76", 1),("0x48d7", 3)],
    "0xfd39": [("0x7842", 1),("0xa7ce", 1),("0xfe2e", 7),("0xe093", 7),("0x48d7", 1),("0xf345", 1),("0x45ab", 1),("0xe59b", 1)],
    "0xfe2e": [("0x7842", 1),("0xa7ce", 8),("0xfd39", 7),("0x6b76", 1),("0x3f5a", 1),("0xf345", 1),("0x70c4", 1),("0x48d7", 1),("0x95cb", 1),("0xe59b", 1)],
}

# Create a directed graph
G = nx.DiGraph()

# Add edges to the graph
for node, edges in data.items():
    for edge, weight in edges:
        G.add_edge(node, edge, weight=weight)

# Draw the graph
pos = nx.shell_layout(G)
plt.figure(figsize=(40, 40))

# Draw nodes and edges
nx.draw(G, pos, with_labels=True, node_size=3000, node_color='lightblue', font_size=8, font_weight='bold', arrows=False, arrowstyle='-')
edge_labels = nx.get_edge_attributes(G, 'weight')

# Draw all edges except the dotted one
solid_edges = [(u, v) for u, v, d in G.edges(data=True) if not (u == "0x48d7" and v == "0xaf8f")]
nx.draw_networkx_edges(G, pos, edgelist=solid_edges, arrows=False, arrowstyle='-')

# Draw the dotted edge
dotted_edges = [("0x48d7", "0xaf8f")]
nx.draw_networkx_edges(G, pos, edgelist=dotted_edges, edge_color='red', arrows=False, arrowstyle='-', width=2)

# Draw edge labels
#nx.draw_networkx_edge_labels(G, pos, edge_labels=edge_labels)

plt.title('Graph Visualization')
plt.show()